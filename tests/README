This file describes the flex test suite.

WHO SHOULD USE THE TEST SUITE?

The test suite is intended to be used by flex developers, i.e., anyone hacking
the flex distribution. If you are simply installing flex, then you can ignore
this directory and its contents.

STRUCTURE OF THE TEST SUITE

The test suite consists of several directories, each containing a
scanner known to work with the most recent version of flex. In
general, after you modify your copy of the flex distribution, you
should re-run the test suite. Some of the tests may require certain tools
to be available (e.g., bison, diff). If any test returns an error or
generates an error message, then your modifications *may* have broken
a feature of flex. At a minimum, you'll want to investigate the
failure and determine if it's truly significant.

HOW TO RUN THE TEST SUITE

To build and execute all tests:

  $ cd tests/ # from the top level of the flex source tree
  $ make check

To build and execute a single test:

  $ cd tests/ # from the top level of the flex tree.
  $ cd test-pthread-nr # for example
  $ make check

HOW TO ADD A NEW TEST TO THE TEST SUITE

 - RUN the perl script `create-test.pl` found in this directory.
   If it works, skip the next step.

 - Copy the tests/TEMPLATE directory, then modify the skeleton scanner
   (and parser if necessary). If you are submitting a patch for
   inclusion in the flex distribution, then move the file "cvsignore"
   to .cvsignore in your new test-* subdirectory and add the name of
   your directory on a line by itself at the end of the newly created
   .cvsignore file. This will make it easier on the flex maintainer to
   include your new test in the cvs tree.

 - On success, your test should return zero.

 - On error, your test should return 1 (one) and print a message
   to stdout or stderr, which have been redirected to the file
   named, "OUTPUT", in your test's directory.

 - If your test is skipped (e.g., bison not found), then the Makefile
   rule should return 2 (two). See "test-bison-nr/Makefile.in" for details.

 - You must modify the last few lines of tests/configure.in
   by adding your new test directory, and the Makefile target.
   (This step is done automatically by `create-test.pl`.)

 - Each test assumes that the newly-built binary "flex" is in the 
   directory above the tests directory.

 -  Add a description of your new test to the end of the file `descriptions'.
